var localstore={s:window.localStorage,type:"localStorage",set:function(e,t){return this.s.setItem(e,JSON.stringify(t)),t},get:function(e){var t=this.s.getItem(e);if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},remove:function(e){this.s.removeItem(e)}},cookiestore={s:document.cookie,type:"cookie",set:function(e,t,n,i,o,r){var a;a=void 0!==t&&"object"==typeof t?JSON.stringify(t):encodeURIComponent(t),o=void 0===o||o,document.cookie=e+"="+a+(n?";expires="+new Date(n).toUTCString():"")+";path="+(i||"/")+("https:"===window.location.protocol&&o?";secure":"")+";SameSite="+(r||"Lax")},get:function(e){var t=this.getAllRawOrProcessed(!1);return t.hasOwnProperty(e)?this.processValue(t[e]):void 0},processValue:function(e){if("{"==e.substring(0,1))try{return JSON.parse(e)}catch(t){return e}if("undefined"!=e)return decodeURIComponent(e)},getAllRawOrProcessed:function(e){var t=document.cookie.split("; "),n={};if(1===t.length&&""===t[0])return n;for(var i=0;i<t.length;i++){var o=t[i].split("=");n[o[0]]=e?this.processValue(o[1]):o[1]}return n},remove:function(e){this.set(e,"",-1)}};"undefined"!=typeof Storage?window.store=localstore:window.store=cookiestore,function(e){var t=function(){this._callbacks=[]};function n(e,n,i,r){var a,s,c=new t;i=i||{},r=r||{};try{a=function(){var e;if(window.XDomainRequest)"function"!=typeof(e=new XDomainRequest).onprogress&&(e.onprogress=function(){});else if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return e}()}catch(e){return c.done(o.ENOXHR,""),c}s=function(e){var t="";if("string"==typeof e)t=e;else{var n=encodeURIComponent;for(var i in e)e.hasOwnProperty(i)&&(t+="&"+n(i)+"="+n(e[i]))}return t}(i),"GET"===e&&s&&(n+="?"+s,s=null);try{if(a.open(e,n),void 0!==a.setRequestHeader)for(var u in a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r)r.hasOwnProperty(u)&&a.setRequestHeader(u,r[u]);var l=o.ajaxTimeout;if(l)var d=setTimeout((function(){a.abort(),c.done(o.ETIMEOUT,"",a)}),l);a.onreadystatechange=function(){if(l&&clearTimeout(d),4===a.readyState){var e=!a.status||(a.status<200||a.status>=300)&&304!==a.status;c.done(e,a.responseText,a)}},a.send(s)}catch(e){"undefined"!=typeof console&&"function"==typeof console.log&&(console.log("Failure to open xhr: ",e),c.done(-1,"unsupported",a))}return c}function i(e){return function(t,i,o){return n(e,t,i,o)}}t.prototype.then=function(e,n){var i;return this._isdone?i=e.apply(n,this.result):(i=new t,this._callbacks.push((function(){var t=e.apply(n,arguments);t&&"function"==typeof t.then&&t.then(i.done,i)}))),i},t.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var e=0;e<this._callbacks.length;e++)this._callbacks[e].apply(null,arguments);this._callbacks=[]};var o={Promise:t,join:function(e){var n=new t,i=[];if(!e||!e.length)return n.done(i),n;var o=0,r=e.length;function a(e){return function(){o+=1,i[e]=Array.prototype.slice.call(arguments),o===r&&n.done(i)}}for(var s=0;s<r;s++)e[s].then(a(s));return n},chain:function e(n,i){var o=new t;return 0===n.length?o.done.apply(o,i):n[0].apply(null,i).then((function(){n.splice(0,1),e(n,arguments).then((function(){o.done.apply(o,arguments)}))})),o},ajax:n,get:i("GET"),post:i("POST"),put:i("PUT"),del:i("DELETE"),ENOXHR:1,ETIMEOUT:2,ajaxTimeout:0};"function"==typeof define&&define.amd?define((function(){return o})):e.promise=o}(this),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Fingerprint=n()}(0,this,(function(){"use strict";var e=function(e){var t,n;t=Array.prototype.forEach,n=Array.prototype.map,this.each=function(e,n,i){if(null!==e)if(t&&e.forEach===t)e.forEach(n,i);else if(e.length===+e.length){for(var o=0,r=e.length;o<r;o++)if(n.call(i,e[o],o,e)==={})return}else for(var a in e)if(e.hasOwnProperty(a)&&n.call(i,e[a],a,e)==={})return},this.map=function(e,t,i){var o=[];return null==e?o:n&&e.map===n?e.map(t,i):(this.each(e,(function(e,n,r){o[o.length]=t.call(i,e,n,r)})),o)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution)&&(void 0!==this.getScreenResolution()&&e.push(this.getScreenResolution().join("x")));return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var n,i,o,r,a,s,c,u;for(n=3&e.length,i=e.length-n,o=t,a=3432918353,s=461845907,u=0;u<i;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(r=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,(function(e){var t=this.map(e,(function(e){return[e.type,e.suffixes].join("~")})).join(",");return[e.name,e.description,t].join("::")}),this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],(function(e){try{return new ActiveXObject(e),e}catch(e){return null}})).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}},e}));var diThrottle=function(e,t,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||e.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(o,r)}};!function(){try{!function(){if("function"==typeof window.CustomEvent)return!1;if(void 0===window.Event)return!1;if(void 0===window.Event.prototype)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var e={handlers:{},completed_actions:{},host:null,token:null,site_id:null,visit_id_cookie:"di_roxanne__visit_id",visitor_id_cookie:"di_roxanne__visitor_id",roxanne_ref:"Roxanne_B",init:function(){if(!roxanne_dynamic)return console.log("Roxanne is broken, sorry"),!1;this.host=roxanne_dynamic.host,this.token=roxanne_dynamic.token,this.site_id=roxanne_dynamic.site_id,this.visit_tracking.mixpanel=this.mixpanel,this.visit_tracking.init(),window.dispatchEvent(new CustomEvent("roxanne_ready",{detail:{site_id:roxanne_dynamic.site_id}}))},visit_tracking:{mixpanel:null,init:function(){window.dispatchEvent(new CustomEvent("di_init_broadcast",{detail:{product:{name:"Roxanne",version:"evergreen",contact:"#roxanne-support"}}})),this.exists()?this.update():this.create()},exists:function(){var t=cookiestore.get(e.visit_id_cookie),n=cookiestore.get(e.visitor_id_cookie);if(void 0===t||void 0===n)return!1;var i=localstore.get(e.roxanne_ref),o=Math.round((new Date).getTime()/1e3);return!(void 0===i||o-i>3600)},create:function(){var e={};e.referrer=document.referrer,e.browser_fingerprint=null,"undefined"!=typeof Fingerprint&&(e.browser_fingerprint=(new Fingerprint).get()),e.user_agent=navigator.userAgent;var t=cookiestore.get("tp_referral");void 0!==t&&(e.tp_referral_id=t);var n=cookiestore.get("_jsuid");if(void 0!==n&&(e.clicky_jsuid=n),this.mixpanel){var i=cookiestore.get("mp_"+this.mixpanel+"_mixpanel");void 0!==i&&(e.mixpanel_id=i.distinct_id)}this.track(e)},update:function(){localstore.set("Roxanne_B",Math.round((new Date).getTime()/1e3)),this.on_ready()},track:function(t){var n=this,i=e.host+"/site/"+e.site_id+"/visitors/"+e.token;promise.post(i,t).then((function(e,t,i){e?n.on_failure(e,t,i):n.on_success(t,i)}))},on_ready:function(){e.do_actions("ready")},on_success:function(t){var n=JSON.parse(t);localstore.set(e.roxanne_ref,Math.round((new Date).getTime()/1e3)),cookiestore.set(e.visit_id_cookie,n.id),cookiestore.set(e.visitor_id_cookie,n.visitor_id),this.on_ready()},on_failure:function(){this.on_ready()}},event_tracking:{page_view_track:!1,event_queue:[],queue_event:function(t){e.event_tracking.event_queue.push(t)},run_event_queue:function(){for(;e.event_tracking.event_queue.length;)e.event_tracking.track(e.event_tracking.event_queue.shift())},process:function(t){if(!1===e.event_tracking.page_view_track&&"page_view"!=t.name)return e.event_tracking.queue_event(t);e.event_tracking.track(t),e.event_tracking.run_event_queue()},track:function(t){var n=this,i=cookiestore.get(e.visit_id_cookie),o=cookiestore.get(e.visitor_id_cookie),r=t;if(r.visit_id=i,r.visitor_id=o,"function"==typeof window.CustomEvent){var a=[];if(r.hasOwnProperty("data_layer")){a=r.data_layer.vars;delete r.data_layer}r.data_layer={vars:a};var s=new CustomEvent("di_event",{detail:r});window.dispatchEvent(s)}if(void 0===i||!i)return!1;var c=e.host+"/visit/"+i+"/events/"+e.token;"custom_data"in t&&null!=t.custom_data&&JSON&&"function"==typeof JSON.stringify&&(t.custom_data instanceof Object&&"undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat&&"function"==typeof Intl.DateTimeFormat().resolvedOptions&&void 0!==Intl.DateTimeFormat().resolvedOptions().timeZone&&(t.custom_data.time_zone=Intl.DateTimeFormat().resolvedOptions().timeZone),t.custom_data=JSON.stringify(t.custom_data)),promise.post(c,t).then((function(i,o,r){"page_view"==t.name&&(e.event_tracking.page_view_track=!0,e.event_tracking.run_event_queue()),i?n.on_failure(i,o,r):n.on_success(o,r)}))},on_success:function(e,t){},on_failure:function(e,t,n){}},add_action:function(e,t){if(e in this.completed_actions)return t();void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t)},do_actions:function(e){if(void 0!==this.handlers[e])for(var t in this.handlers[e])this.handlers[e][t]();this.handlers[e]=[],this.completed_actions[e]=!0}};if(void 0!==window.addEventListener&&window.addEventListener("di_ev",(function(t){e.add_action("ready",(function(){var n={};"detail"in t&&(n=t.detail),e.event_tracking.process(n)}))}),!1),e.init(),"function"==typeof window.CustomEvent){var t=new CustomEvent("di_ev",{detail:{reference:"https://schemas.dealerinspire.com/roxanne/v1/event/third-party/page-view.json#",name:"page_view",label:window.location.href,default_score:1,custom_data:{source:{name:"Roxanne",version:"1.0.1.0",contact:"#roxanne-events-validation"}}}});window.dispatchEvent(t)}}catch(e){"undefined"!=typeof console&&console.log("Ref: "+e.message)}}();